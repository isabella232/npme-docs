
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>FAQ Â· npm Enterprise Docs</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="replication.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
    <header class="anonymous">
      <div class="header-item header-nav-menu-container">
        <a href="#" id="npm-expansions" class="npm-expansions" data-event-trigger="click" data-event-name="npm-expansions">node package manager</a>

        <div class="nav-menu-container" role="navigation">
          <a class="nav-toggle drop-down-menu-toggle" href="#product-navigation"><span class="a11y-only">Toggle Navigation</span>
            <svg viewBox="0 0 44 44">
              <rect x="4" y="12" fill="currentColor" width="36" height="2"/>
              <rect x="4" y="20" fill="currentColor" width="36" height="2"/>
              <rect x="4" y="28" fill="currentColor" width="36" height="2"/>
            </svg>
          </a>
          <div class="drop-down-menu-container" role="menu">
            <nav id="product-navigation" class="product-navigation drop-down-menu">
              <ul class="drop-down-menu-section products-list">
                <li><a id="nav-enterprise-link" href="https://www.npmjs.com/npm/enterprise">npm Enterprise</a></li>
                <li><a id="nav-features-link" href="https://www.npmjs.com/features" data-event-trigger="click" data-event-name="features-nav-link">features</a></li>
                <li><a id="nav-pricing-link" href="https://www.npmjs.com/pricing">pricing</a></li>
                <li><a id="nav-docs-link" href="https://docs.npmjs.com">documentation</a></li>
                <li><a id="nav-support-link" href="https://www.npmjs.com/support">support</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </header>
    
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../up-and-running/">
            
                <a href="../up-and-running/">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../up-and-running/requirements.html">
            
                <a href="../up-and-running/requirements.html">
            
                    
                    Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../up-and-running/platforms/">
            
                <a href="../up-and-running/platforms/">
            
                    
                    Platform Tutorials
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../up-and-running/platforms/aws.html">
            
                <a href="../up-and-running/platforms/aws.html">
            
                    
                    Using AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../up-and-running/platforms/azure.html">
            
                <a href="../up-and-running/platforms/azure.html">
            
                    
                    Using Microsoft Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../up-and-running/platforms/vagrant.html">
            
                <a href="../up-and-running/platforms/vagrant.html">
            
                    
                    Using Vagrant
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../up-and-running/platforms/other.html">
            
                <a href="../up-and-running/platforms/other.html">
            
                    
                    Other Platforms
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../up-and-running/customization.html">
            
                <a href="../up-and-running/customization.html">
            
                    
                    Configuring Your Instance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../up-and-running/auth/">
            
                <a href="../up-and-running/auth/">
            
                    
                    Authentication
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1.1" data-path="../up-and-running/auth/open.html">
            
                <a href="../up-and-running/auth/open.html">
            
                    
                    Open Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.1.2" data-path="../up-and-running/auth/github.html">
            
                <a href="../up-and-running/auth/github.html">
            
                    
                    Github Enterprise Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.1.3" data-path="../up-and-running/auth/ldap.html">
            
                <a href="../up-and-running/auth/ldap.html">
            
                    
                    LDAP Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.1.4" data-path="../up-and-running/auth/oauth-google.html">
            
                <a href="../up-and-running/auth/oauth-google.html">
            
                    
                    Google OAuth2 Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.1.5" data-path="../up-and-running/auth/oauth-github.html">
            
                <a href="../up-and-running/auth/oauth-github.html">
            
                    
                    GitHub Enterprise OAuth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.1.6" data-path="../up-and-running/auth/custom.html">
            
                <a href="../up-and-running/auth/custom.html">
            
                    
                    Custom Authentication
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../cli/">
            
                <a href="../cli/">
            
                    
                    Configuring and Using the npm CLI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../cli/installation.html">
            
                <a href="../cli/installation.html">
            
                    
                    Installing the npm CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../cli/updating.html">
            
                <a href="../cli/updating.html">
            
                    
                    Updating the npm CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../cli/configuration.html">
            
                <a href="../cli/configuration.html">
            
                    
                    Configuring the CLI client
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../workflow/">
            
                <a href="../workflow/">
            
                    
                    Common Workflows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../workflow/installing-packages.html">
            
                <a href="../workflow/installing-packages.html">
            
                    
                    Installing Packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../workflow/publishing-packages.html">
            
                <a href="../workflow/publishing-packages.html">
            
                    
                    Publishing Packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../workflow/whitelisting.html">
            
                <a href="../workflow/whitelisting.html">
            
                    
                    Whitelisting Packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../workflow/mirroring.html">
            
                <a href="../workflow/mirroring.html">
            
                    
                    Mirroring the Public Registry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../workflow/travis.html">
            
                <a href="../workflow/travis.html">
            
                    
                    Integrating With Travis CI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../tutorials/">
            
                <a href="../tutorials/">
            
                    
                    Tutorials
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../tutorials/addons.html">
            
                <a href="../tutorials/addons.html">
            
                    
                    Enterprise Add-Ons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../tutorials/pipelines.html">
            
                <a href="../tutorials/pipelines.html">
            
                    
                    Bitbucket Pipelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../tutorials/nginx.html">
            
                <a href="../tutorials/nginx.html">
            
                    
                    Terminating SSL with NGINX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../tutorials/backups-and-ha.html">
            
                <a href="../tutorials/backups-and-ha.html">
            
                    
                    Backups and HA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../tutorials/load-balancing-with-varnish.html">
            
                <a href="../tutorials/load-balancing-with-varnish.html">
            
                    
                    Load balancing with Varnish
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../tutorials/npm-enterprise-with-nexus.html">
            
                <a href="../tutorials/npm-enterprise-with-nexus.html">
            
                    
                    npm Enterprise with Nexus
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.6.1" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="replication.html">
            
                <a href="replication.html">
            
                    
                    A Package Failed to Replicate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="booting.html">
            
                <a href="booting.html">
            
                    
                    npm Enterprise Won't Boot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="migrating.html">
            
                <a href="migrating.html">
            
                    
                    Migrating From Legacy Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="uninstalling.html">
            
                <a href="uninstalling.html">
            
                    
                    Uninstalling npm Enterprise
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >FAQ</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="faq"><a name="faq" class="plugin-anchor" href="#faq"><i class="fa fa-link" aria-hidden="true"></i></a>FAQ</h1><p>Here are answers to some frequently asked questions. If you don&apos;t see your question listed here, and it&apos;s not covered by one of the many other docs pages, feel free to <a href="https://github.com/npm/npme-docs/issues" target="_blank">open an issue</a> and ask/propose your question there.</p><ul><li><p>General</p><ul><li><a href="#what-is-npm-enterprise-made-of">What is npm Enterprise made of?</a>
</li>
<li><a href="#how-do-i-upgrade-npm-enterprise">How do I upgrade npm Enterprise?</a>
</li>
<li><a href="#what-is-npmonpm-on-site-and-how-is-it-related-to-npmenpm-enterprise">What is npmo/npm On-Site, and how is it related to npme/npm Enterprise?</a>
</li>
<li><a href="#how-do-i-replicate-between-two-npm-enterprise-instances">How do I replicate between two npm Enterprise instances?</a>
</li>
<li><a href="#what-should-i-do-if-npm-enterprise-binds-to-the-wrong-ip-address">What should I do if npm Enterprise binds to the wrong address?</a>
</li>
<li><a href="#what-should-i-do-if-i-see-a-devicemapper-warning">What should I do if I see a devicemapper warning?</a>
</li>
<li><a href="#what-should-i-do-if-ssl-problem-occurs-with-npme-over-https">What should I do if ssl problem occurs with npme over https?</a>
</li></ul>
</li>
<li><p>Scopes and Packages</p><ul><li><a href="#whats-the-difference-between-a-scoped-package-and-an-unscoped-package">What&apos;s the difference between a scoped package and an unscoped package?</a>
</li>
<li><a href="#does-using-a-scope-make-packages-private-automatically">Does using a scope make packages private automatically?</a>
</li>
<li><a href="#do-i-have-to-use-a-scope-for-the-packages-i-publish-to-npme">Do I have to use a scope for the packages I publish to npme?</a>
</li>
<li><a href="#am-i-assigned-a-scope-for-npm-enterprise-how-many-scopes-can-i-use">Am I assigned a scope? How many scopes can I use?</a>
</li>
<li><a href="#how-should-i-choose-my-scope">How should I choose my scope?</a>
</li>
<li><a href="#if-i-publish-a-package-to-my-npm-enterprise-registry-will-it-be-published-privately-on-the-public-registry-too">If I publish a package to my npm Enterprise registry, will it be published privately on the public registry too?</a>
</li></ul>
</li></ul>
<h2 id="what-is-npm-enterprise-made-of"><a name="what-is-npm-enterprise-made-of" class="plugin-anchor" href="#what-is-npm-enterprise-made-of"><i class="fa fa-link" aria-hidden="true"></i></a>What is npm Enterprise made of?</h2><p>npme consists of Docker, Replicated, the npme appliance, and the <code>npme</code> installer bin.</p><p><a href="https://www.docker.com/" target="_blank">Docker</a> is used to run Replicated and the npme appliance.</p><p><a href="https://www.replicated.com/" target="_blank">Replicated</a> is npme&apos;s orchestration software and admin console. It consists of its own Docker images/containers and integration with the underlying operating system. The admin console binds to port <code>:8800</code> and uses an SSL/TLS cert separate from the npme appliance. Access the admin console using your favorite browser to configure and manage your npme instance.</p><p>The npme appliance is a suite of Docker images/containers that make up the private npm registry and website. The registry binds to port <code>:8080</code> and the website binds to port <code>:8081</code> on your host. Each instance of the appliance maintains its own databases as Docker containers, storing their data in configurable directories on the host file system. The npme appliance is configured and managed by the admin console. The appliance does not use any SSL/TLS certificate, but the registry and website can be fronted with a load balancer, web server, or reverse proxy that terminates SSL/TLS. See <a href="../tutorials/nginx.html">Terminating SSL with NGINX</a> for an example.</p><p>The <a href="https://www.npmjs.com/package/npme" target="_blank"><code>npme</code> bin</a> is a CLI app distributed as a public npm package. It is used as a one-step installer for Docker and Replicated, and after installation it provides several administrative commands for adding or configuring functionality for your npme instance. In order to use it, you must have Node and npm installed on your host.</p><p>The last piece to the puzzle is <code>npm</code> itself. The same CLI client you use to install packages from the public registry can be used to publish and install private packages from npm Enterprise. Read more about in <a href="../workflow/">Common Workflows</a>.</p><h2 id="how-do-i-upgrade-npm-enterprise"><a name="how-do-i-upgrade-npm-enterprise" class="plugin-anchor" href="#how-do-i-upgrade-npm-enterprise"><i class="fa fa-link" aria-hidden="true"></i></a>How do I upgrade npm Enterprise?</h2><p>The answer depends on <a href="#what-is-npm-enterprise-made-of">which part</a> of npme you&apos;re talking about.</p><ol><li><p>Upgrading the appliance (registry and website)</p><p>This is the most common type of upgrade, and it can be done from the admin console web UI (port <code>:8800</code>). Either click the &quot;Check Now&quot; button in the top-center panel of the Dashboard page (<code>/dashboard</code>) or go to the Releases page (<code>/releases</code>). If a new version is available, it will be displayed with an option to install it - just click the button!</p><p>Upgrading to a new appliance version will first download the necessary Docker images and then restart the appliance. Downtime will be incurred while the appliance is restarted and generally takes less than a minute.</p><p>It&apos;s probably a good idea to check for updates every few weeks.</p></li>
<li><p>Upgrading the <code>npme</code> bin</p><p>You can upgrade the <code>npme</code> installer bin by SSH&apos;ing into your server and simply running:</p><pre><code> sudo npm i -g --ignore-scripts npme</code></pre>
<p>This <em>will not</em> affect the running appliance and does not incur any downtime.</p></li>
<li><p>Upgrading Replicated with or without Docker</p><p>The method you use to upgrade Replicated (npme&apos;s orchestration software and admin console) depends on the current version your instance is running.</p><p>To determine the Replicated version, SSH into your host and run <code>replicated --version</code>.</p><p>If you&apos;re running a version less than 2.0.0, you need to migrate to version 2 first. Run this and answer any prompts:</p><pre><code> curl -sSL https://get.replicated.com/migrate-v2 | sudo bash</code></pre>
<p>If you&apos;re running a version greater than 2.0.0, you can either upgrade Replicated and Docker together using the <code>npme</code> installer (run the following and answer any prompts):</p><pre><code> sudo npm i npme -g --unsafe</code></pre>
<p>Or you can upgrade just Replicated by running this and answering any prompts:</p><pre><code> curl -sSL https://get.replicated.com/docker | sudo bash no-docker</code></pre>
<p>It&apos;s generally a good idea to upgrade Replicated with Docker to make sure your system is running the best compatible version of Docker for npme.</p><p>Note that all of these options incur downtime for your npme instance.</p></li></ol>
<h2 id="what-is-npmonpm-on-site-and-how-is-it-related-to-npmenpm-enterprise"><a name="what-is-npmonpm-on-site-and-how-is-it-related-to-npmenpm-enterprise" class="plugin-anchor" href="#what-is-npmonpm-on-site-and-how-is-it-related-to-npmenpm-enterprise"><i class="fa fa-link" aria-hidden="true"></i></a>What is npmo/npm On-Site, and how is it related to npme/npm Enterprise?</h2><p>The first version of npm Enterprise did not use Docker or Replicated, but it only supported a small range of platforms. Around August 2015, the product was refactored to leverage Replicated and Docker, significantly expanding the range of supported platforms, and was soon renamed to npm On-Site. Over time we discovered the On-Site name was confusing, and so in April 2016 we rebranded npm On-Site back to npm Enterprise.</p><p>npm On-Site is literally the same product as npm Enterprise, just an older version. Similarly, the <code>npmo</code> bin was renamed to <code>npme</code> and has been deprecated.</p><p>If you&apos;re currently running npm On-Site, please use the <a href="#how-do-i-upgrade-npm-enterprise">How do I upgrade npm Enterprise?</a> answer to upgrade to npm Enterprise, and make sure to migrate Replicated to version 2. You should also replace the <code>npmo</code> bin on your host with <code>npme</code> via the following:</p><pre><code>sudo npm uninstall -g npmo
sudo npm i -g --ignore-scripts npme</code></pre>
<h2 id="how-do-i-replicate-between-two-npm-enterprise-instances"><a name="how-do-i-replicate-between-two-npm-enterprise-instances" class="plugin-anchor" href="#how-do-i-replicate-between-two-npm-enterprise-instances"><i class="fa fa-link" aria-hidden="true"></i></a>How do I replicate between two npm Enterprise instances?</h2><p>It&apos;s good practice to setup a second npm Enterprise as a replica of your primary npm Enterprise
server. This gives you a hot spare to fallback to in the case of failure.</p><p>Setting up a replica is easy:</p><ol><li>on your primary server copy the values of <code>Full URL of npm Enterprise registry</code>, and
<code>Secret used between services</code> (replication connects to the registry component
 of npm Enterprise, which defaults to running on <code>:8080</code>).
</li>
<li>provision the secondary server and ensure that publication and installation is working
appropriately.
</li>
<li>Optionally, set <code>Publication Settings</code> to <code>Read Only</code> on the secondary server (this
will prevent users form accidentally publishing packages to it).
</li>
<li><p>on the secondary server:</p><ul><li>set <code>Upstream URL</code> to the value of <code>Full URL of npm Enterprise registry</code> on the primary.
</li>
<li>set <code>Upstream secret</code> to the value of <code>Secret used between services</code> on the primary.
</li>
<li>set <code>Policy to apply during replication</code> to <code>mirror</code> on the secondary server.
</li></ul>
</li>
<li><p><code>ssh</code> into the secondary server, and run <code>npme reset-follower</code>.</p></li></ol>
<p>That&apos;s all there is to it, wait a few minutes and the secondary should be synced with the
primary server.</p><p>For more details, see replication for <a href="../tutorials/backups-and-ha.html">Backups and HA</a>.</p><h2 id="what-should-i-do-if-npm-enterprise-binds-to-the-wrong-ip-address"><a name="what-should-i-do-if-npm-enterprise-binds-to-the-wrong-ip-address" class="plugin-anchor" href="#what-should-i-do-if-npm-enterprise-binds-to-the-wrong-ip-address"><i class="fa fa-link" aria-hidden="true"></i></a>What should I do if npm Enterprise binds to the wrong IP address?</h2><p>In rare situations, npm Enterprise may bind to the wrong <code>Daemon Address</code>
for the cluster of services that it provisions. To fix this, manually configure
the IP address:</p><h3 id="on-centosrhel"><a name="on-centosrhel" class="plugin-anchor" href="#on-centosrhel"><i class="fa fa-link" aria-hidden="true"></i></a>On Centos/RHEL</h3><ol><li>edit <code>/etc/sysconfig/replicated</code>, set <code>PRIVATE_ADDRESS</code> to the appropriate value.
</li>
<li>edit <code>/etc/sysconfig/replicated-operator</code>, set <code>PRIVATE_ADDRESS</code> to the appropriate value.
</li>
<li><code>sudo systemctl restart replicated replicated-operator</code>, to reload the environment.
</li></ol>
<h3 id="on-ubuntudebian"><a name="on-ubuntudebian" class="plugin-anchor" href="#on-ubuntudebian"><i class="fa fa-link" aria-hidden="true"></i></a>On Ubuntu/Debian</h3><ol><li>edit <code>/etc/default/replicated</code>, set <code>PRIVATE_ADDRESS</code> to the appropriate value.
</li>
<li>edit <code>/etc/default/replicated-operator</code>, set <code>PRIVATE_ADDRESS</code> to the appropriate value.
</li>
<li><code>sudo service replicated stop &amp;&amp; sudo service replicated-operator stop &amp;&amp; sudo service replicated start &amp;&amp; sudo service replicated-operator start</code>, to reload the environment.
</li></ol>
<h2 id="what-should-i-do-if-i-see-a-devicemapper-warning"><a name="what-should-i-do-if-i-see-a-devicemapper-warning" class="plugin-anchor" href="#what-should-i-do-if-i-see-a-devicemapper-warning"><i class="fa fa-link" aria-hidden="true"></i></a>What should I do if I see a devicemapper warning?</h2><p>Running <code>devicemapper</code> in loopback mode is discouraged for production.
It has known performance problems and a different storage driver should be used. 
See <a href="https://docs.docker.com/engine/userguide/storagedriver/device-mapper-driver/#other-device-mapper-performance-considerations" target="_blank">devicemapper performance considerations</a> 
and <a href="https://docs.docker.com/engine/userguide/storagedriver/selectadriver/" target="_blank">selecting a storage driver</a> to understand the available storage drivers and limitations.</p><p>To find out which storage driver is set on the daemon, use the docker info command:</p><p><code>$ docker info</code></p><p>You can set the storage driver by passing the <code>&#x2014;-storage-driver=&lt;name&gt;</code> option to the dockerd command line.</p><p><code>$ dockerd --storage-driver=overlay &amp;</code></p><p>Alternatively, you can force the Docker daemon to automatically start with the overlay/overlay2 driver by editing the Docker config file and adding the <code>&#x2014;-storage-driver=overlay</code> flag to the <code>DOCKER_OPTS</code> line.</p><p>Your choice of storage driver can affect the performance of your npm Enterprise server. 
So it&#x2019;s important to understand the different storage driver options available and select the right one for your application.</p><p>We recommend that you use the <code>overlay</code> driver, rather than <code>devicemapper</code>; for help configuring this <a href="https://docs.docker.com/engine/userguide/storagedriver/overlayfs-driver/#configure-docker-with-the-overlayoverlay2-storage-driver" target="_blank">please see the following tutorial</a></p><h2 id="what-should-i-do-if-ssl-problem-occurs-with-npme-over-https"><a name="what-should-i-do-if-ssl-problem-occurs-with-npme-over-https" class="plugin-anchor" href="#what-should-i-do-if-ssl-problem-occurs-with-npme-over-https"><i class="fa fa-link" aria-hidden="true"></i></a>What should I do if ssl problem occurs with npme over https?</h2><p>When using a custom certificate for your npme registry, you might get an error related to the SSL certificate when logging in or publishing a package even though the browser does not display errors when viewing the npme registry site. This is because node&apos;s certificate validation is strict and doesn&apos;t allow for things like self-signed certificates by default.
To fix your issue temporarily you can provide <code>--strict-ssl=false</code> during login or you can add it to your ~/.npmrc file
<code>npm config set strict-ssl=false</code>.</p><p>For a permanent fix, you can point npm to a <code>cafile</code>.</p><pre><code>npm config set cafile /path/to/cert.pem</code></pre>
<p>You can also configure ca string(s) directly.</p><pre><code>npm config set ca &quot;cert string&quot;`</code></pre>
<p><code>ca</code> can be an array of cert strings too. In your .npmrc:</p><pre><code>ca[ ]=&quot;cert 1 base64 string&quot;
ca[ ]=&quot;cert 2 base64 string&quot;</code></pre>
<p>The npm config commands above will persist the relevant config items to your ~/.npmrc file:</p><pre><code>cafile=/path/to/cert.pem</code></pre>
<p>The above <code>cafile</code> setting will override the default &quot;real world&quot; certificate authority lookups that npm uses. If you try and use any public npm registries via https that aren&apos;t signed by your CA certificate, you will get errors.</p><p>If you need to support both public https npm registries as well as your own, you could use <a href="https://curl.haxx.se/docs/caextract.html" target="_blank">curl&apos;s Mozilla based CA bundle</a> and append your CA cert to the cacert.pem file.</p><h2 id="whats-the-difference-between-a-scoped-package-and-an-unscoped-package"><a name="whats-the-difference-between-a-scoped-package-and-an-unscoped-package" class="plugin-anchor" href="#whats-the-difference-between-a-scoped-package-and-an-unscoped-package"><i class="fa fa-link" aria-hidden="true"></i></a>What&apos;s the difference between a scoped package and an unscoped package?</h2><p>A scoped package has a scope (or namespace), which begins with an <code>@</code> symbol and is followed by a <code>/</code>, in the package name, e.g. <code>@scope/foo</code>. An unscoped package has no scope in the package name, e.g. <code>foo</code>. The scope is a permanent part of the package&apos;s name and identity, used in <code>package.json</code> and also in <code>require()</code> or <code>import</code> statements in code.</p><p>Technically, the only difference is the presence of a scope in the package name. Semantically, however, a scoped package is private by default. For this reason, we <em>highly</em> recommend that you use a scope for any and all packages that you do not want to publish publicly.</p><h2 id="does-using-a-scope-make-packages-private-automatically"><a name="does-using-a-scope-make-packages-private-automatically" class="plugin-anchor" href="#does-using-a-scope-make-packages-private-automatically"><i class="fa fa-link" aria-hidden="true"></i></a>Does using a scope make packages private automatically?</h2><p>Yes, because a scoped package is only made public if published using <code>npm publish --access public</code> (or subsequently modified via <code>npm access public</code>). For this reason, we <em>highly</em> recommend that you use a scope for any and all private packages.</p><h2 id="do-i-have-to-use-a-scope-for-the-packages-i-publish-to-npme"><a name="do-i-have-to-use-a-scope-for-the-packages-i-publish-to-npme" class="plugin-anchor" href="#do-i-have-to-use-a-scope-for-the-packages-i-publish-to-npme"><i class="fa fa-link" aria-hidden="true"></i></a>Do I have to use a scope for the packages I publish to npme?</h2><p>Technically no. There are a couple ways you can configure your <code>npm</code> client (or even an individual package) to point to your private registry without using a scope, but we <em>highly</em> recommend using a scope for <em>all</em> private packages to avoid unintentionally publishing your private package to the public registry, based on the following facts:</p><ul><li>The <code>npm</code> CLI client treats scoped packages as private by default.
</li>
<li>You cannot accidentally publish a scoped package to the public registry unless you have access to that scope in the public registry.
</li></ul>
<p>There are valid workflows which publish prerelease versions of a package to a private npm Enterprise registry as a precursor to publishing a release version publicly on the public registry, but this is not a typical use-case.</p><p>For more info on scopes, see the next question.</p><h2 id="am-i-assigned-a-scope-for-npm-enterprise-how-many-scopes-can-i-use"><a name="am-i-assigned-a-scope-for-npm-enterprise-how-many-scopes-can-i-use" class="plugin-anchor" href="#am-i-assigned-a-scope-for-npm-enterprise-how-many-scopes-can-i-use"><i class="fa fa-link" aria-hidden="true"></i></a>Am I assigned a scope for npm Enterprise? How many scopes can I use?</h2><p>Unlike <a href="https://www.npmjs.com/features" target="_blank">orgs or private packages</a> on the public registry, you are <em>not</em> assigned a scope to use for private packages you publish to npm Enterprise. You are free to use any scope name that you wish, but to avoid namespace collisions with public scoped packages, you should try to use a scope that identifies your company/organization and is unique on the public registry. This will also make it easier to switch to npm&apos;s hosted orgs solution (where your private packages are hosted privately on the public registry), if you ever wish to do so. But it&apos;s your choice!</p><p>You are allowed to use as many scopes as you like with npm Enterprise. You could use different scopes for different teams or projects within your organization, or use one scope for all packages. It&apos;s up to you!</p><h2 id="how-should-i-choose-my-scope"><a name="how-should-i-choose-my-scope" class="plugin-anchor" href="#how-should-i-choose-my-scope"><i class="fa fa-link" aria-hidden="true"></i></a>How should I choose my scope?</h2><p>It&apos;s recommended that you use your company name, e.g., <code>@npm</code>,
or for large organizations a business unit within your company, e.g., <code>@npm-cli</code>. There&apos;s
no limit on the number of scopes that you can use in npm Enterprise.</p><h2 id="if-i-publish-a-package-to-my-npm-enterprise-registry-will-it-be-published-privately-on-the-public-registry-too"><a name="if-i-publish-a-package-to-my-npm-enterprise-registry-will-it-be-published-privately-on-the-public-registry-too" class="plugin-anchor" href="#if-i-publish-a-package-to-my-npm-enterprise-registry-will-it-be-published-privately-on-the-public-registry-too"><i class="fa fa-link" aria-hidden="true"></i></a>If I publish a package to my npm Enterprise registry, will it be published privately on the public registry too?</h2><p>No. Packages published to npm Enterprise are not published to an upstream registry, particularly not the public registry. One of the main reasons to use npm Enterprise is that you maintain complete control over the packages that you publish - they belong to you and they live <em>only</em> on your server(s). Access to packages published to npm Enterprise is defined by your configured authentication/authorization provider, which is controlled by you or your organization. The access control used by the public registry is different and completely separate.</p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Troubleshooting">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="replication.html" class="navigation navigation-next " aria-label="Next page: A Package Failed to Replicate">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"FAQ","level":"1.6.1","depth":2,"next":{"title":"A Package Failed to Replicate","level":"1.6.2","depth":2,"path":"troubleshooting/replication.md","ref":"troubleshooting/replication.md","articles":[]},"previous":{"title":"Troubleshooting","level":"1.6","depth":1,"path":"troubleshooting/README.md","ref":"troubleshooting/README.md","articles":[{"title":"FAQ","level":"1.6.1","depth":2,"path":"troubleshooting/faq.md","ref":"troubleshooting/faq.md","articles":[]},{"title":"A Package Failed to Replicate","level":"1.6.2","depth":2,"path":"troubleshooting/replication.md","ref":"troubleshooting/replication.md","articles":[]},{"title":"npm Enterprise Won't Boot","level":"1.6.3","depth":2,"path":"troubleshooting/booting.md","ref":"troubleshooting/booting.md","articles":[]},{"title":"Migrating From Legacy Server","level":"1.6.4","depth":2,"path":"troubleshooting/migrating.md","ref":"troubleshooting/migrating.md","articles":[]},{"title":"Uninstalling npm Enterprise","level":"1.6.5","depth":2,"path":"troubleshooting/uninstalling.md","ref":"troubleshooting/uninstalling.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"anchors":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"INTRO.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"npm Enterprise Docs","gitbook":"*"},"file":{"path":"troubleshooting/faq.md","mtime":"2017-05-17T19:25:27.351Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2017-05-17T19:27:19.152Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>


    <script src="/docs/scripts/bundle.js"></script>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

